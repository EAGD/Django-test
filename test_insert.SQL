
INSERT INTO CAMION (PATENTE) VALUES ('HYBF59');
INSERT INTO CAMION (PATENTE) VALUES ('FTWE45');
INSERT INTO CAMION (PATENTE) VALUES ('HGMN77');
INSERT INTO CAMION (PATENTE) VALUES ('ASFR34');

--SELECT * FROM CAMION

--DELETE FROM CAMION

----------------------------------------
INSERT INTO CIUDAD(NOMBRE) VALUES ('SANTIAGO');
INSERT INTO CIUDAD(NOMBRE) VALUES ('CONCEPCION');
INSERT INTO CIUDAD(NOMBRE) VALUES ('VALDIVIA');
INSERT INTO CIUDAD(NOMBRE) VALUES ('LA REINA');
INSERT INTO CIUDAD(NOMBRE) VALUES ('ÑUÑOA');
INSERT INTO CIUDAD(NOMBRE) VALUES ('PROVIDENCIA');
INSERT INTO CIUDAD(NOMBRE) VALUES ('LOS ANGELES');

--SELECT * FROM CIUDAD

----------------------------------------


INSERT INTO TIPO_USUARIO(DESCRIPCION) VALUES ('ADMIN');
INSERT INTO TIPO_USUARIO(DESCRIPCION) VALUES ('CONDUCTOR');
INSERT INTO TIPO_USUARIO(DESCRIPCION) VALUES ('AYUDANTE CONDUCTOR');
INSERT INTO TIPO_USUARIO(DESCRIPCION) VALUES ('BODEGUERO');

--SELECT * FROM tipo_usuario

----------------------------------------


INSERT INTO USUARIO(RUT, NOMBRES, APELLIDOS, FK_ID_TIPO_USUARIO) VALUES ('19944033-0','DIEGO ALEJANDRO','MUÑOZ CARO',2);
INSERT INTO USUARIO(RUT, NOMBRES, APELLIDOS, FK_ID_TIPO_USUARIO) VALUES ('19532461-1','ESTEBAN ','GONZALEZ',1);
INSERT INTO USUARIO(RUT, NOMBRES, APELLIDOS, FK_ID_TIPO_USUARIO) VALUES ('22943929-4','MILENA SOFIA','MUÑOZ CARO',1);
--SELECT * FROM USUARIO

--UPDATE usuario
--	SET FK_ID_TIPO_USUARIO = 3
--	WHERE usuario.id_usuario = 3

SELECT
	U.*
	,TU.descripcion
FROM USUARIO U
JOIN tipo_usuario TU
ON U.fk_id_tipo_usuario = TU.id_tipo_usuario

----------------------------------------

	
INSERT INTO TIPO_PRODUCTO(DETALLE) VALUES ('FRUTA');
INSERT INTO TIPO_PRODUCTO(DETALLE) VALUES ('VERDURA');
INSERT INTO TIPO_PRODUCTO(DETALLE) VALUES ('CARNE');
INSERT INTO TIPO_PRODUCTO(DETALLE) VALUES ('MARISCOS');

--SELECT * FROM TIPO_PRODUCTO

----------------------------------------

INSERT INTO PRODUCTO(DESCRIPCION, FK_ID_TIPO_PRODUCTO) VALUES ('FILETES DE RES',3);
INSERT INTO PRODUCTO(DESCRIPCION, FK_ID_TIPO_PRODUCTO) VALUES ('PECHUGA DE POLLO',3);
INSERT INTO PRODUCTO(DESCRIPCION, FK_ID_TIPO_PRODUCTO) VALUES ('PAPAS FRITAS',2);
INSERT INTO PRODUCTO(DESCRIPCION, FK_ID_TIPO_PRODUCTO) VALUES ('CAMARONES COCIDOS SIN PIEL',4);
INSERT INTO PRODUCTO(DESCRIPCION, FK_ID_TIPO_PRODUCTO) VALUES ('FRAMBUESAS',1);


--SELECT * FROM PRODUCTO


SELECT P.*, TP.detalle
FROM PRODUCTO P
JOIN tipo_producto TP
ON P.fk_id_tipo_producto = TP.id_tipo_producto


----------------------------------------
INSERT INTO tipo_despacho(descripcion) VALUES 
('PUNTO A PUNTO')
,('BODEGA - CLIENTE')






------------------------SIMULACION DE DESPACHO-------------------------------------


INSERT INTO guia(FECHA) VALUES ('15-06-2024');
INSERT INTO guia(FECHA) VALUES ('15-06-2024');

--SELECT * FROM GUIA


INSERT INTO detalle_guia (CANTIDAD, FECHA, FK_ID_PRODUCTO, FK_ID_GUIA) VALUES (3, '15-06-2024', 1,1);
INSERT INTO detalle_guia (CANTIDAD, FECHA, FK_ID_PRODUCTO, FK_ID_GUIA) VALUES (2, '15-06-2024', 2,1);
INSERT INTO detalle_guia (CANTIDAD, FECHA, FK_ID_PRODUCTO, FK_ID_GUIA) VALUES (6, '15-06-2024', 3,1);
INSERT INTO detalle_guia (CANTIDAD, FECHA, FK_ID_PRODUCTO, FK_ID_GUIA) VALUES (1, '15-06-2024', 4,1);

INSERT INTO detalle_guia (CANTIDAD, FECHA, FK_ID_PRODUCTO, FK_ID_GUIA) VALUES (2, '15-06-2024', 4,2);
INSERT INTO detalle_guia (CANTIDAD, FECHA, FK_ID_PRODUCTO, FK_ID_GUIA) VALUES (1, '15-06-2024', 4,2);

-- SELECT * FROM DETALLE_GUIA
 


SELECT 
	G.id_guia
	, G.TOTAL
	, G.FECHA
	, P.descripcion
	, D.cantidad
FROM GUIA G
JOIN DETALLE_GUIA D
ON G.id_guia = D.fk_id_guia
JOIN PRODUCTO P
ON P.id_producto = D.fk_id_producto
WHERE G.id_guia = 1




SELECT 
	G.id_guia
	, G.TOTAL
	, G.FECHA
	, P.descripcion
	, D.cantidad
FROM GUIA G
JOIN DETALLE_GUIA D
ON G.id_guia = D.fk_id_guia
JOIN PRODUCTO P
ON P.id_producto = D.fk_id_producto
WHERE G.id_guia = 2



-----------------------

ALTER TABLE RUTA
ADD DIRECCION VARCHAR(200) NULL

SELECT * FROM RUTA 

INSERT INTO RUTA (DIRECCION, DETALLE, FK_ID_CIUDAD) VALUES ('EL PINO 845 LAS LOMAS DE SANTA MARIA','MINI MARKET DOÑA CARNE', 7)

--DELETE FROM RUTA



INSERT INTO despacho (fk_id_guia,ESTADO,fk_id_usuario_1,fk_id_usuario_2,fk_id_ruta,fk_id_camion,fk_id_tipo_despacho) VALUES 
(2, 'En camino', 1, 3, 1, 4, 1)



SELECT * 
FROM DESPACHO


SELECT 
	D.id_despacho
	, D.fk_id_guia
	, U.nombres
	, U2.nombres
	, C.patente
	, DES.descripcion
	, D.ESTADO
FROM DESPACHO D
	JOIN usuario U
	ON U.id_usuario = D.fk_id_usuario_1
	JOIN usuario U2 
	ON U2.id_usuario = D.fk_id_usuario_2
	JOIN camion C
	ON D.fk_id_camion = C.id_camion
	JOIN tipo_despacho DES
	ON DES.id_tipo_despacho = D.fk_id_tipo_despacho

















